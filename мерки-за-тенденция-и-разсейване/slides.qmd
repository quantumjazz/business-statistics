---
title: "Описание на разпределенията на данните:  мерки за централна тенденция и разсейване"
format:
  revealjs:
    incremental: true   
editor: visual
font-size: smaller
---

## Нека си представим, че..

Вие сте бизнес анализатори във фирма за търговия на дребно и обмисляте две различни локации на магазини за разширяване. Всяко местоположение е регистрирало едни и същи средни дневни продажби през последната година, но моделите на продажби са много различни.

::: {.panel-tabset}

### Локация A

Постоянни продажби около средните, с леки колебания.

### Локация B

Силно променливи продажби, с много високи върхове и  ниски спадове.

:::

## Въпроси

1. Кое местоположение предлага по-предвидими приходи?
2. Как променливостта на продажбите може да повлияе на управленските решения?

- Разбирането за **средната стойност** (за улавяне на максимален обем от продажбите), така и на **стандартното отклонение** (за разбиране на колебанията в продажбите) трябва да ви води при  вземането на решения.

# Мерки на централната тенденция

## Средна стойност (средна аритметична)

- **Средната стойност** е сумата от всички точки от данни, разделена на броя на точките.

- **Изчисление:**
$\text{Средно} = \frac{\sum_{i=1}^{n} x_i}{n}$

- **Свойства:**
- Чувствителност към отклонения.
- Прилага се успешно когато данните са симетрични и нямат отклонения.

- **Пример:**
- При дневни продажби от 100, 150, 150, 200 и 400, средната стойност е:
$\frac{100 + 150 + 150 + 200 + 400}{5} = 200$

## Медиана

- **Медианата** е средната стойност в данни, когато те са подредени във възходящ ред (когато данните .

- **Изчисление:**
- *Нечетен брой наблюдения*: Средната стойност директно.
- *Четен брой наблюдения*: Средна стойност на двете средни стойности.

- **Пример:**
- За данни за продажби от 100, 150, 200, 150 и 400:
- Сортирани: 100, 150, 150, 200, 400
- Медианата е 150.

- **Предимство:**
По-малко чувствителен към отклонения в сравнение със средната стойност.

## Мода

- **Модата** е най-често срещаната стойност в набор от данни.

- **Пример:**
За клиентски оценки от 4, 4, 5, 6 и 4:
- Модата е 4.

- **Защо е важна:**
- Важна е, когато е необходима най-често срещаната стойност.
- Полезна при силно изкривени разпределения или за категориални данни.

# Мерки на разсейване

## Размах

- **Размах** е разликата между най-високата и най-ниската стойност в набор от данни.

- **Изчисление:**
- $\text{Range} = \text{Max} - \text{Min}$

- **Пример:**
- За данни за продажби от 100, 150, 200, 150 и 400:
- Размахът е 400 - 100 = 300

- **Ограничение:**
- Чувствителен към отклонения и не отразява характерното за данните разпределение.

## Дисперсия и стандартно отклонение {.scrollable}

- **Дисперсия:**
- Средната стойност на разликите на квадрат от средната стойност.

- $\text{Variance} = \sigma^2 = \frac{\sum (x_i - \mu)^2}{n}$

- като:
- $\mu = \frac{\sum_{i=1}^{n} x_i}{n}$

- **Стандартно отклонение:**
- Корен квадратен от дисперсията.
- Оценява степента, в която всяко наблюдение се различава от средната стойност.

- $\text{Standard Deviation} = \sigma = \sqrt{\sigma^2}$

- **Пример:**
- Дадени са данни за продажби за определен период: 100, 150, 150, 200, 400
- $\mu = \frac{100 + 150 + 150 + 200 + 400}{5} = 200$

- разликите между всяка точка от данни и средната стойност:
- $100 - 200 = -100$
- $150 - 200 = -50$
- $150 - 200 = -50$
- $200 - 200 = 0$
- $400 - 200 = 200$

- корен квадратен на всяко от отклоненията:
- $(-100)^2 = 10000$
- $(-50)^2 = 2500$
- $(-50)^2 = 2500$
- $0^2 = 0$
- $200^2 = 40000$

- дисперсията е средната стойност на тези квадратни отклонения:
$\sigma^2 = \frac{10000 + 2500 + 2500 + 0 + 40000}{5} = 12000$

- корен квадратен от дисперсията е стандартното отклонение:
$\sigma = \sqrt{12000} \approx 109,54$

- Стандартното отклонение  е в същите мерни единици  като данните, което прави тълкуването лесно.

## Избор на правилните мерки

- **Фактори, които трябва да се имат предвид:**
- **Разпределение на данните**: Симетрично, изкривено, наличие на отклонения.
- **Скала на измерване**: Номинална, ординална, интервална..
- **Цел на анализа**: Обобщаване, идентифициране на тенденции или вземане на решения.

## Избор на правилните мерки {.scrollable}

- **Средно аримтметично и стандартно отклонение:**
- **Данни**: Заплатите в една фирма обикновено са стабилни с леки вариации.
- **Пример**: Годишни заплати от 50k, 52k, 53k, 54k, 55k.
- **Средно**: 52,800
- **Стандартно отклонение**: 1720,47 което е малко и показва малки разлики.

- **Медиана:**
- **Данни**: Цените на недвижимите имоти в град, силно изкривени поради няколко имота с много висока стойност.
- **Пример**: Цени от 100k, 150k, 200k, 250k, 2M.
- **Средно**: 540k
- **Медиана**: 200000 (по-представително за типичните цени)

- **Мода:**
- **Данни**: Най-често срещаният тип дефект в продуктова партида; това са категориални данни.
- **Пример**: Дефекти са открити в продукти A, A, B, A, C.
- **Мода**: Тип A (най-често срещан, показващ повтарящ се проблем с дефектите).

- **Използване на фигури:**
Препоръчват се хистограми и диаграми тип "кутия" за визуализиране на разпределението, което помага при избора на мярка.

## Избор на правилните мерки - примери {.scrollable}

1. **Пазарен анализ**:
- **Данни**: Месечни обеми на продажби: 120, 135, 140, 155, 160, 300.
- **Средно**: 168,3 (изкривено от едно нетипично наблюдение)
- **Медиана**: 147,5 (по-добре отразява типичния обем на продажбите)
- **Стандартно отклонение**: 60.32; високо, което показва голямото влияние на последното наблюдение.

## Пример 1: Пазарен анализ

```{r}
library(ggplot2)

# Data for monthly sales volumes
sales_data <- data.frame(Sales = c(120, 135, 140, 155, 160, 300))

# Create histogram
ggplot(sales_data, aes(x = Sales)) +
  geom_histogram(bins = 10, fill = "darkgrey", color = "black") +
  ggtitle("Месечни обеми на продажбите") +
  xlab("Обем") +
  ylab("Честота") +
  theme_minimal()

```

## Избор на правилните мерки - примери {.scrollable}

2. **Управление на риска**:
- **Данни**: Възвръщаемост на инвестициионно портфолио: -2%, 5%, 8%, 10%, 25%.
- **Средно**: 9,2% (изкривено от едно нетипично наблюдение)
- **Медиана**: 8% (избягва изкривяване от едно от наблюденията отклонение)

## Пример 2: Управление на риска

```{r}
library(ggplot2)
# Data for investment returns
returns_data <- data.frame(Returns = c(-2, 5, 8, 10, 25))

# Create box plot
ggplot(returns_data, aes(x = factor(1), y = Returns)) +
  geom_boxplot(fill = "darkgrey") +
  ggtitle("Възвръщаемост на инвестициионно портфолио") +
  xlab("") +
  ylab("възвръщаемост (%)") +
  theme_minimal()
```

## Избор на правилните мерки - примери

3. **Контрол на качеството**:
   - **Данни**: Дефекти на 100 продукта: 1, 2, 2, 3, 3, 3, 4, 4, 10.
   - **Мода**: 3, което показва, че този продукт има проблемс качеството.

## Пример 3: Контрол на качеството
 
 
```{r}
library(ggplot2)

# Data for defect counts
defects_data <- data.frame(Defects = c(1, 2, 2, 3, 3, 3, 4, 4, 10))

# Create bar plot
ggplot(defects_data, aes(x = as.factor(Defects))) +
  geom_bar(fill = "darkgrey") +
  ggtitle("Контрол на качеството") +
  xlab("Продукт") +
  ylab("Честота") +
  theme_minimal()
```
