---
title: "Стандартни стойности и нормално разпределение"
format:
  revealjs:
    incremental: true   
editor: visual
font-size: smaller
---


## Какво представляват стандартните стойности?

Резултати като Z-стойностите и T-стойностите са основни инструменти в статистиката, които ни помагат да стандартизираме данни от различни източници или разпределения, позволявайки смислени сравнения.

---

## Защо Z-стойностите и T-стойностите са важни?

- **Стандартизация**: Преобразуване резултати от различни разпределения в обща скала.
- **Сравнение**: По-лесно сравняване и тълкуване на данни.
- **Идентификация**: Идентифициране и анализиране необичайни/изключителни наблюдения в данните.

---

## Пример: Резултати от тестове в училище {.scrollable}

Нека са дадени двама ученици от различни училища, всеки от които получава различна оценка в тест в класната стая:

- **Ученик A** получава 85 точки на тест със средна стойност 80 и стандартно отклонение 10.
- **Ученик B** получава 78 точки на тест със средна стойност 70 и стандартно отклонение 5.

- ### Въпрос:

- Кой ученик се представя по-добре в сравнение със собствения си клас?

---

## Изчисляване на Z-резултати

За да отговорим на въпроса, изчисляваме Z-резултата за всеки ученик:

- **Z-резултат за ученик A**:
  
  $$
   Z = \frac{{Резултат - средно}}{{Стандартно отклонение}} = \frac{{85 - 80}}{{10}} = 0,5
   $$

- **Z-резултат за ученик B**:
  
   $$
   Z = \frac{{78 - 70}}{{5}} = 1,6
   $$

- ### Извод:

 - Ученик B се представя по-добре в сравнение с класа си, което се демонстрира от по-високия Z-резултат.
 
 
## Какво представляват Z-стойностите?

Z-стойностите измерват колко стандартни отклонения има дадено наблюдение от средната стойност. Този резултат дава възможност за стандартизиране на различни набори от данни и позволява сравняване на данни с различни разпределения.

---

## Изчисляване на Z-стойности

Формулата за изчисляване на Z-стойности е:

$$
Z = \frac{{X - \mu}}{{\sigma}}
$$

където:
- $X$ е стойността в извадката от данни.
- $\mu$ е средната стойност на извадката от данни.
- $\sigma$ е стандартното отклонение на извадката от данни.

---

## Пример: Резултати от изпити {.scrollable}

Нека имаме изпитни резултати със средна стойност ($\mu$) от 75 и стандартно отклонение ($\sigma$) от 10.

- ### Резултати:
- Алис: 90
- Боб: 70
- Чарли: 80

- ### Изчисляване на Z-стойността

1. Z-стойност на Алиса:
    $$
    Z = \frac{{90 - 75}}{{10}} = 1,5
    $$
    Резултатът на Алис е 1,5 стандартни отклонения над средната стойност.

2. Z-резултат на Боб:
    $$
    Z = \frac{{70 - 75}}{{10}} = -0,5
    $$
    Резултатът на Боб е 0,5 стандартни отклонения под средната стойност.

3. Z-резултат на Чарли:
    $$
    Z = \frac{{80 - 75}}{{10}} = 0,5
    $$
    Резултатът на Чарли е с 0,5 стандартни отклонения над средната стойност.

---

## Интерпретиране на Z-стойности

- Положителна Z-стойност показва резултат над средния.
- Отрицателна Z-стойности показва резултат под средната стойност.
- Z-стойностите могат също да се използват за идентифициране на необичайни наблюдения (обикновено резултати над ±2 или ±3 стандартни отклонения).

---

## Визуализиране на Z-стойности

```{r}
# Load necessary libraries
library(ggplot2)

# Example data
scores <- data.frame(
  Name = c("Alice", "Bob", "Charlie"),
  Score = c(90, 70, 80),
  ZScore = c(1.5, -0.5, 0.5)
)

# Mean and standard deviation
mean_score <- 75
sd_score <- 10
x_min <- mean_score - 3 * sd_score  
x_max <- mean_score + 3 * sd_score

# Creating the base plot with normal distribution curve
ggplot(data = scores, aes(x = Score)) +
  stat_function(fun = dnorm, args = list(mean = mean_score, sd = sd_score), color = "blue") +
  geom_point(aes(y = 0, color = Name), size = 4) +
  geom_text(aes(y = 0.02, label = paste("Z =", ZScore), vjust = -2, color = Name), size = 4) +
  labs(x = "Резултат",
       y = "Плътност") +
  scale_color_manual(values = c("red", "green", "purple")) +
  theme_minimal() +
  xlim(x_min, x_max)
```



## Какво представляват T-стойностите?

T-стойностите са подобни на Z-стойностите, но се използват, когато размерът на извадката е малък и стандартното отклонение на популацията е неизвестно. Т-стойностите използват вместо това стандартното отклонение на извадката и следват Т-разпределението.

---

## Т-разпределение

- Т-разпределението е подобно на нормалното разпределение, но има по-дебели опашки.
- То се доближава до нормалното разпределение с увеличаване на размера на извадката.
- Особено важно, когато се работи с наблюдения, които са по-малко от 30.

---

## Изчисляване на T-стойности {.scrollable}

Формулата за Т-стойността е:

$$
T = \frac{{X - \overline{X}}}{{s/\sqrt{n}}}
$$

- където:
- $X$ е стойността в набора от данни.
- $\overline{X}$ е средната стойност на извадката.
- $s$ е извадковото стандартно отклонение.
- $n$ е размерът на извадката.

---

## Пример: Възвръщаемост на инвестициите в стартиращ бизнес {.scrollable}

Нека имаме малка извадка от годишна възвръщаемост от пет стартиращи компании:

- ### Възвръщаемост:
- 8%
- 12%
- 10%
- 7%
- 11%

## Изчисляване T-стойности {.scrollable}

Приемайки извадкова средна стойност ($\overline{X}$) от 9,6% и извадково стандартно отклонение ($s$) от 2%.

1. Изчисляваме Т-стойността за възвръщаемост от 12%:
    $$
    T = \frac{{12 - 9,6}}{{2/\sqrt{5}}} \approx 2,68
    $$
    Тази възвращаемост е 2,68 пъти стандартната грешка над средната стойност на извадката.


## Използване на таблици с Т-разпределения

- Т-стойностите могат да се използват с таблици с Т-разпределения за намиране на вероятности и критични стойности.
- Това е полезно за тестване на хипотези в статистиката, особено когато работим с малки извадки.

---


## Нормално разпределение

Нормалното разпределение, известно също като разпределение на Гаус, е вероятностно разпределение, което е симетрично спрямо средната стойност, което показва, че данните близо до нея се срещат по-често, отколкото данните, далеч от средната.

---

## Свойства на нормалното разпределение

- **Симетрия**: Разпределението е напълно симетрично около средната стойност.
- **Форма**: Разпределението има форма на камбана.
- **Средна стойност, медиана и мода**: При нормално разпределение тези три мерки на централна тенденция са еднакви.

---

## Правилото 68-95-99.7 (емпирично правило)

Това правило ни помага да разберем разположението на наблюдения в нормално разпределение:

- Около 68% от данните попадат в едно стандартно отклонение от средната стойност.
- Около 95% попадат в две стандартни отклонения.
- Около 99,7% попадат в три стандартни отклонения.

---

## Пример: Височините на възрастни мъже

Да предположим, че ръстовете на възрастните мъже са нормално разпределени със средно 177.8 см. и стандартно отклонение от 7.62 см.

## Визуализация на нормалното разпределение

```{r}
# Load necessary library
library(ggplot2)

# Define mean and standard deviation in centimeters
mean_height_cm <- 177.8
sd_height_cm <- 7.62

# Create a sequence of heights
heights_cm <- seq(mean_height_cm - 4 * sd_height_cm, mean_height_cm + 4 * sd_height_cm, length.out = 300)

# Create a data frame for plotting
heights_df_cm <- data.frame(
  height = heights_cm,
  density = dnorm(heights_cm, mean = mean_height_cm, sd = sd_height_cm)
)

# Plot the normal distribution
ggplot(heights_df_cm, aes(x = height, y = density)) +
  geom_line() +
  geom_area(data = subset(heights_df_cm, height >= mean_height_cm - sd_height_cm & height <= mean_height_cm + sd_height_cm), fill = "blue", alpha = 0.3) +
  geom_area(data = subset(heights_df_cm, height >= mean_height_cm - 2 * sd_height_cm & height <= mean_height_cm + 2 * sd_height_cm), fill = "blue", alpha = 0.2) +
  geom_area(data = subset(heights_df_cm, height >= mean_height_cm - 3 * sd_height_cm & height <= mean_height_cm + 3 * sd_height_cm), fill = "blue", alpha = 0.1) +
  labs(title = "Стандартно разпределение на височината на възрастни мъже",
       subtitle = "Оцветените площи показват едно, две и три стандартни отклонения от средното",
       x = "Височина (сантиметри)",
       y = "Плътност") +
  theme_minimal()


```


## Нормално и T-разпределение


```{r}
# Load necessary libraries
library(ggplot2)
library(stats)

# Define a range of x values around 0
x_values <- seq(-4, 4, length.out = 100)

# Create a data frame for plotting
distributions <- data.frame(
  x = rep(x_values, times = 4),
  density = c(dnorm(x_values),      # Standard normal distribution
              dt(x_values, df = 1), # T-distribution with 1 degree of freedom
              dt(x_values, df = 5), # T-distribution with 5 degrees of freedom
              dt(x_values, df = 30) # T-distribution with 30 degrees of freedom
  ),
  Distribution = factor(rep(c("Normal", "T, df=1", "T, df=5", "T, df=30"), each = 100))
)

# Plot the distributions
ggplot(distributions, aes(x = x, y = density, color = Distribution)) +
  geom_line(size = 1) +
  labs(title = "",
       subtitle = "Нормално и T-разпределение при различни степени на свобода",
       x = "Z/T стойност",
       y = "Плътност") +
  scale_color_manual(values = c("black", "red", "lightblue", "green")) +
  theme_minimal() +
  theme(legend.title = element_blank())

```

## Значение на нормалното разпределение

- **Анализ на данни**: Много статистически тестове и методи предполагат нормално разпределение.
- **Прогнозно моделиране**: Нормалното разпределение е основополагащо в много области на статистическото моделиране и машинното обучение.


## Приложения  {.scrollable}

- ### Образователни тестове

- **Z-стойности**: Стандартизираме резултатите от тестовете от различни училища или области, за да ги сравнявате по единна скала.
- **T-стойности**: Използваме  при  тествове на индвиди, където размерите на извадката често са малки, което позволява по-точни интерпретации.

- ### Здравеопазване

- **Z-стойности**: Често са използвани в медицината  за стандартизиране на измервания като кръвно налягане или ИТМ, спрямо нормалното.
- **T-стойности**: Важен при проучвания, включващи малки групи, като например клинични изпитвания за нови лекарства.


## Вземане на решения въз основа на статистически мерки

Разбирането и използването на Z-стойности и T-стойности позволява на бизнеса и здравните специалисти да вземат информирани решения въз основа на стандартизирани данни. Това води до по-добро формулиране на стратегия и подобрена оперативна ефективност.